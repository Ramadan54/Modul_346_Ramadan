# KN06 â€“ EC2, Storage & AMI

## Ziel
Eine bestehende EC2-Instanz analysieren, Speicher vergrÃ¶ssern, eine AMI erstellen und daraus eine neue Instanz starten.

---

## Schritt 1: Ausgangslage prÃ¼fen
Wir haben uns per SSH mit der bestehenden EC2-Instanz verbunden und den Status geprÃ¼ft.

- Benutzer: `ubuntu`
- Instanz lÃ¤uft korrekt

ğŸ“· **Beweis:**  
![commands-output](Bilder/commands-output.png)

---

## Schritt 2: Cloud-init & Services prÃ¼fen
Kontrolle, ob Cloud-init sauber durchgelaufen ist und die Applikation erreichbar ist.

ğŸ“· **Beweis:**  
![cloud-init-status](Bilder/cloud-init-status.png)

---

## Schritt 3: Web-App & Swagger testen
Die laufende Applikation wurde Ã¼ber den Browser und Swagger Ã¼berprÃ¼ft.

ğŸ“· **Beweis:**  
![swagger](Bilder/swagger.png)

---

## Schritt 4: MongoDB prÃ¼fen
MongoDB Atlas wurde kontrolliert:
- IP-Zugriff erlaubt
- Datenbank-User vorhanden
- Products-Collection existiert

ğŸ“· **Beweise:**  
![mongodb-ip-access-list](Bilder/mongodb-ip-access-list.png)  
![mongodb-database-users](Bilder/mongodb-database-users.png)  
![mongodb-products-collection](Bilder/mongodb-products-collection.png)

---

## Schritt 5: Storage vergrÃ¶ssern
Das Root-Volume der Instanz wurde von **8 GiB auf 20 GiB** erweitert.  
Danach wurde geprÃ¼ft, ob das Dateisystem bereits korrekt angepasst ist.

ğŸ“· **Beweis:**  
![commands-output](Bilder/commands-output.png)

> Problem: `growpart` meldete **NOCHANGE**, weil das Dateisystem bereits korrekt erweitert war.  
> â†’ Kein Fehler, alles OK.

---

## Schritt 6: AMI erstellen
Von der bestehenden Instanz wurde ein eigenes AMI erstellt (`kn06-web-ami`).

ğŸ“· **Beweis:**  
![kn06-web-ami](Bilder/kn06-web-ami.png)

---

## Schritt 7: Neue Instanz aus AMI starten
Aus dem AMI wurde eine neue EC2-Instanz gestartet:
- Eigener Name
- Gleiche Sicherheitsgruppe
- SSH-Key korrekt gesetzt

ğŸ“· **Beweis:**  
![instances](Bilder/instances.png)

---

## Schritt 8: Verbindung zur neuen Instanz
Verbindung per SSH zur **AMI-Test-Instanz** hergestellt und geprÃ¼ft:

- Richtiger Benutzer (`ubuntu`)
- Neue private IP
- Neue Instance-ID

ğŸ“· **Beweis:**  
![commands-output](Bilder/commands-output.png)

---

## Fazit
- Storage-Erweiterung erfolgreich
- AMI korrekt erstellt
- Neue Instanz aus AMI funktioniert
- Applikation & MongoDB laufen wie erwartet


